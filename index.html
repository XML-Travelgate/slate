
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;curl&quot;,&quot;csharp&quot;,&quot;go&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="curl">curl</a>
              <a href="#" data-language-name="csharp">csharp</a>
              <a href="#" data-language-name="go">go</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#endpoints" class="toc-h2 toc-link" data-title="Introduction">Endpoints</a>
                  </li>
                  <li>
                    <a href="#authentication" class="toc-h2 toc-link" data-title="Introduction">Authentication</a>
                  </li>
                  <li>
                    <a href="#api-flow" class="toc-h2 toc-link" data-title="Introduction">API Flow</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#payment" class="toc-h1 toc-link" data-title="Payment">Payment</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#availablepaymentmethods" class="toc-h2 toc-link" data-title="Payment">AvailablePaymentMethods</a>
                  </li>
                  <li>
                    <a href="#process" class="toc-h2 toc-link" data-title="Payment">Process</a>
                  </li>
                  <li>
                    <a href="#payment-details" class="toc-h2 toc-link" data-title="Payment">Payment Details</a>
                  </li>
                  <li>
                    <a href="#refund-payment" class="toc-h2 toc-link" data-title="Payment">Refund Payment</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#tokenization" class="toc-h1 toc-link" data-title="Tokenization">Tokenization</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#tokenize" class="toc-h2 toc-link" data-title="Tokenization">Tokenize</a>
                  </li>
                  <li>
                    <a href="#retrieve" class="toc-h2 toc-link" data-title="Tokenization">Retrieve</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#appendix" class="toc-h1 toc-link" data-title="Appendix">Appendix</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#additional-data-types" class="toc-h2 toc-link" data-title="Appendix">Additional data types</a>
                  </li>
                  <li>
                    <a href="#errordetails" class="toc-h2 toc-link" data-title="Appendix">ErrorDetails</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
          </li>
      </div>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>Welcome to the official documentation for SWAPPT API. We have spent hours developing this documentation to make it as slick and as usable as we possibly can. Let us walk you through it and let us know if you have any questions at any time.</p>

<blockquote>
<p>We also have <em>Swagger</em>, a platform to test our API. Check it out!
<br> <b><a href ='https://api.swappt.com/swagger'>https://api.swappt.com/swagger</a></b></p>
</blockquote>

<p>SWAPPT API is a REST API that has an HTTP POST call for each operation. It is composed of three primary processes:</p>

<ul>
<li><strong>Available payment methods:</strong> Returns the available payment methods.</li>
<li><strong>Payment:</strong> Runs a paymend and/or a fraud analysis.</li>
<li><strong>Tokenization:</strong> Tokenization/retrieval of card data information.</li>
</ul>

<aside class="notice">
You will finde some types described as <i>String(SomeTypeName)</i>. This means that the type is an Enumerated type (of type <i>SomeTypeName</i>) and it has a closed set of values. You can find the enumerated types explained on the <a href ="#additional-data-types"><i>corresponding appendix section</i></a>.
</aside>
<h2 id='endpoints'>Endpoints</h2>
<p>The endpoints for each operation follow the same structure:</p>

<blockquote>
<p><strong>EXAMPLE:</strong>
Let&#39;s say that you belong to the organisation named &quot;test&quot; and you wish to use the version 1 of the SWAPPT API to make a <strong>payment</strong>. Your request would be the following:</p>

<p><code>POST https://api.swappt.com/v1/organizations/test/payment</code></p>
</blockquote>

<p><code>POST https://api.swappt.com/v&lt;VERSION_ID&gt;/organizations/&lt;ORGANIZATION_ID&gt;/&lt;OPERATION&gt;</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>VERSION_ID</td>
<td>API Version.</td>
</tr>
<tr>
<td>ORGANIZATION_ID</td>
<td>Your identifier as organization (that you will get when live).</td>
</tr>
<tr>
<td>OPERATION</td>
<td>The operation to realize.</td>
</tr>
</tbody></table>

<aside class="notice">
All the endpoints work around HTTPS. HTTP request <b>will not</b> work.
</aside>
<h2 id='authentication'>Authentication</h2><pre class="highlight plaintext"><code>curl https://api.swappt.com/v1/organizations/test/payment
     -H "Authorization: ApiKey YourApiKey"
</code></pre>
<p>You need to authenticate when performing an API call. Moreover, the API will check your Authorization for every operation, o make sure that you have permissions to make every request.</p>

<p>To authenticate, you need to place the word &#39;ApiKey&#39; followed by your API key on the <strong>Authorization</strong> header of your HTTP request.</p>
<h2 id='api-flow'>API Flow</h2>
<p>To adjust to our customers&#39; needs, we offer several configurations to use the API:</p>

<ul>
<li>Use the API directly analyze the fraud of a transaction without making any payment.</li>
<li>Use the API to make a payment without analysing the fraud.</li>
<li>Use the API to combine both configurations.</li>
</ul>
<h3 id='to-perform-fraud-analysis'>To perform fraud analysis:</h3>
<p>Use the <a href ="#payment"><i>Payment</i></a> call by filling in the &#39;&#39;fraud_process&#39;&#39; information during the request. The application will then return an answer.</p>
<h3 id='to-perform-a-payment'>To perform a payment:</h3>
<p>The first step is to retrieve all payment methods available. To do so, we will use the call <a href ="#availablepaymentmethods"><i>AvailablePaymentMethods</i></a>. This call will return the payment methods according to the configuration made on the platform. </p>

<p>This list will be shown to the final customer for him to choose the payment method that suits him best. Once the customer selects a payment method, the <a href ="#payment"><i>Payment</i></a> call will be launched. This call will carry out the fraud analysis only if specified. To make the call, we will need the information returned in the response of the call AvailablePaymentMethods.</p>

<p>Depending on the method of payment selected it will be necessary to proceed in the following ways:</p>

<ul>
<li><p><strong>If the payment method is redirection:</strong> Along with the response of the Payment call, will be attached the information that will allow you to redirect the customer to the payment platform to complete the payment. As soon as the payment is confirmed, the customer will be redirected to the URL provided in the request for status ok. If the payment is denied, he will be redirected to the k.o page.</p></li>
<li><p><strong>When the payment method is ticket or ATM:</strong> The customer will need to be redirected to an off platform to complete the payment. Either by printing the ticket or by paying online from his bank&#39;s website.</p></li>
<li><p><strong>When the payment method is not carried out in any of these ways:</strong> It will be held internally from the call Payment, and you will only need to check the status of the transaction.</p></li>
</ul>
<h1 id='payment'>Payment</h1><h2 id='availablepaymentmethods'>AvailablePaymentMethods</h2>
<p>The <em>available_payment_methods</em> is the first call that needs to be executed. With this call, you will get the list of payment methods available for the transaction and the configuration specified. <strong>Note:</strong> This step is mandatory for payments but not required for fraud analysis.</p>
<h3 id='availablepaymentmethodsrq'>AvailablePaymentMethodsRQ</h3>
<blockquote>
<p>AvailablePaymentMethodsRQ example:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"currency_amount"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="s2">"departure"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-08T10:50"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cancellation_expenses_beginning"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-08T10:50"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"excluded_methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="s2">"fraud_information"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="s2">"only_secure_payment"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"session_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"client_config"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"my_config_key_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my_value1"</span><span class="w">      
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"merchant_reference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Node</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>currency_amount</td>
<td><a href ="#currencyamount"><i>CurrencyAmount</i></a></td>
<td>Payment base amount where taxes will be applied. The CurrencyAmount specifies the amount and the currency used for this payment. The currency code must be specified in ISO3 (ISO 4217)) format</td>
</tr>
<tr>
<td>departure</td>
<td>DateTime</td>
<td>Departure Date (UTC).</td>
</tr>
<tr>
<td>cancellation_expenses_beginning</td>
<td>DateTime</td>
<td>When the purchase will have cancellation expenses.</td>
</tr>
<tr>
<td>excluded_methods</td>
<td>Array[String(PaymentMethodType)]</td>
<td>List of payment methods to ignore.</td>
</tr>
<tr>
<td>fraud_information</td>
<td><a href ="#fraudinformation"><i>FraudInformation</i></a></td>
<td>This node can indicate previous fraud information so only secure gateways are returned.</td>
</tr>
<tr>
<td>only_secure_payment</td>
<td>Boolean</td>
<td>To force the application return a secure gateway.</td>
</tr>
<tr>
<td>session_code</td>
<td>String</td>
<td>Identifies the transactions of the same session.</td>
</tr>
<tr>
<td>client_config</td>
<td>Key-Value</td>
<td>Configuration to determine the results.</td>
</tr>
</tbody></table>
<h3 id='currencyamount'>CurrencyAmount</h3>
<blockquote>
<p>CurrencyAmount example:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"amount"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"currency_code"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Node</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>amount</td>
<td>Integer</td>
</tr>
<tr>
<td>currency_code</td>
<td>String</td>
</tr>
</tbody></table>
<h3 id='fraudinformation'>FraudInformation</h3>
<blockquote>
<p>FraudInformation example:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"departure_datetime_utc"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-08T10:50"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"customer_has_trusted_bookings"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"customer_is_fraud_suspicious"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"product_predisposed_to_be_fraud"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Node</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>departure_datetime_utc</td>
<td>String</td>
<td>Departure or start of first service in Utc format.</td>
</tr>
<tr>
<td>customer_has_trusted_bookings</td>
<td>Boolean</td>
<td>User has trusted booking in last dates.</td>
</tr>
<tr>
<td>customer_is_fraud_suspicious</td>
<td>Boolean</td>
<td>User is suspicious.</td>
</tr>
<tr>
<td>product_predisposed_to_be_fraud</td>
<td>Boolean</td>
<td>Set it to true on products that often are fraud.</td>
</tr>
</tbody></table>
<h3 id='availablepaymentmethodsrs'>AvailablePaymentMethodsRS</h3>
<blockquote>
<p>AvailablePaymentMethodsRS example:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"payment_methods"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="s2">"status"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<table><thead>
<tr>
<th>Node</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>payment_methods</td>
<td>Array[<a href ="#availablepaymentmethod"><i>AvailablePaymentMethod</i></a>]</td>
<td>List of available payment methods.</td>
</tr>
<tr>
<td>status</td>
<td>String(EndTransactionType)</td>
<td>Identifies if any processing error has occurred.</td>
</tr>
</tbody></table>
<h3 id='availablepaymentmethod'>AvailablePaymentMethod</h3>
<blockquote>
<p>AvailablePaymentMethods Example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"reference_token"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"amount_total"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"currency"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"overcost_amount"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"overcost_percentage"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"overcost_currency"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"gateway_code"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"is_3ds"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"paypal_token"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"offline_transference_list"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Node</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>String(PaymentMethodType)</td>
<td>Payment method name.</td>
</tr>
<tr>
<td>reference_token</td>
<td>Boolean</td>
<td>Token generated during the search. It is necessary for the next flow call.</td>
</tr>
<tr>
<td>amount_total</td>
<td>Boolean</td>
<td>Total amount with overcosts and fees added.</td>
</tr>
<tr>
<td>overcost_amount</td>
<td>Boolean</td>
<td>Total overcost amount.</td>
</tr>
<tr>
<td>overcost_percentage</td>
<td>Boolean</td>
<td>Percentage overcost.</td>
</tr>
<tr>
<td>overcost_currency</td>
<td>Boolean</td>
<td>Overcost currency. Must be specified in ISO3 (ISO 4217)) format.</td>
</tr>
<tr>
<td>gateway_code</td>
<td>Boolean</td>
<td>Gateway wich the payment will be proceded.</td>
</tr>
<tr>
<td>is_3ds</td>
<td>Boolean</td>
<td>Identifies if thegateway is 3ds or not.</td>
</tr>
<tr>
<td>paypal_token</td>
<td>Boolean</td>
<td>PayPal token if method type is PayPal.</td>
</tr>
<tr>
<td>offline_transference_list</td>
<td>Array[<a href ="#offlinetransference"><i>OfflineTransference</i></a>]</td>
<td>The list of the offline transference payment types avaliable.</td>
</tr>
</tbody></table>
<h3 id='offlinetransference'>OfflineTransference</h3>
<blockquote>
<p>OfflineTransference Example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"bank_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"bank_description"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"bank_name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"beneficiary"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"iban"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"swift"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Node</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>bank_id</td>
<td>String</td>
<td>Bank identifier.</td>
</tr>
<tr>
<td>bank_description</td>
<td>String</td>
<td>Bank description.</td>
</tr>
<tr>
<td>bank_name</td>
<td>String</td>
<td>Bank name.</td>
</tr>
<tr>
<td>beneficiary</td>
<td>String</td>
<td>Beneficiary.</td>
</tr>
<tr>
<td>iban</td>
<td>String</td>
<td>IBAN.</td>
</tr>
<tr>
<td>swift</td>
<td>String</td>
<td>SWIFT.</td>
</tr>
</tbody></table>
<h2 id='process'>Process</h2>
<p>The main process where a payment and/or fraud analysis is complete (if <em>SWAPPT Switcher</em> and/or <em>SWAPPT FDS</em> solutions are hired and activated). It requires only two calls for the SWAPPT API to execute a payment: <em>Get Available Payment Methods</em>, and <em>Payment</em>. More actions can be done related to the payment process, a <em>Payment Details</em> call to retrieve the status and details of a payment, and a <em>Refund</em> call to refund a payment.</p>

<p>As previously mentioned, the <em>Payment</em> procedure is intended to do the main payment process and/or do a previous Fraud analysis. The request must have the following JSON structure:</p>

<aside class="success">
Remember: <a href ="#fraudprocessrq"><i>fraud_process</i></a> field must be filled if a fraud analysis must be done, as <i>payment_process</i> must be filled if a payment must be done.
</aside>
<h3 id='processrq'>ProcessRQ</h3>
<blockquote>
<p>ProcessRQ example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"card_data"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="s2">"card_type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Explicit"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"currency_amount"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="s2">"sender_details"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="s2">"fraud_process"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="s2">"payment_process"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Node</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>card_data</td>
<td><a href ="#carddata"><i>CardData</i></a></td>
<td>Card data information.</td>
</tr>
<tr>
<td>card_type</td>
<td>String(CardInfoType)</td>
<td>Used to determine the mandatory format of &#39;card_data&#39; field.</td>
</tr>
<tr>
<td>currency_amount</td>
<td><a href ="#currencyamount"><i>CurrencyAmount</i></a></td>
<td>Currency of the payment</td>
</tr>
<tr>
<td>sender_details</td>
<td><a href ="#senderdetails"><i>SenderDetails</i></a></td>
<td>Buyer information</td>
</tr>
<tr>
<td>fraud_process</td>
<td><a href ="#fraudprocessrq"><i>FraudProcessRQ</i></a></td>
<td>Needed if you want to perform a fraud analysis.</td>
</tr>
<tr>
<td>payment_process</td>
<td><a href ="#paymentprocessrq"><i>PaymentProcessRQ</i></a></td>
<td>Needed if you want to make a payment.</td>
</tr>
</tbody></table>
<h3 id='carddata'>CardData:</h3>
<blockquote>
<p>CardData example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"encrypted_data"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"store_card_info"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tokenized_data"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"number"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"expiration_month"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"expiration_year"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"security_code"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Node</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>encrypted_data</td>
<td>Boolean</td>
<td>Card data information encrypted by the <em>SWAPPT CSE JavaScript</em>. <strong>Mandatory if <em>card_type</em> is <em>Encrypted</em>.</strong></td>
</tr>
<tr>
<td>store_card_info</td>
<td>String</td>
<td>Indicates whether if the information is necessary stored and tokenize for future uses by the SWAPPT Vault service.</td>
</tr>
<tr>
<td>tokenized_data</td>
<td>String</td>
<td>Token pointing the data previously stored on <em>SWAPPT Vault</em>. <strong>Mandatory if <em>card_type</em> is <em>Tokenized</em>.</strong></td>
</tr>
<tr>
<td>number</td>
<td>String</td>
<td>Card number. <strong>Mandatory if <em>card_type</em> is <em>Explicit</em>.</strong></td>
</tr>
<tr>
<td>expiration_month</td>
<td>Integer</td>
<td>Card expiration month. <strong>Mandatory if <em>card_type</em> is <em>Explicit</em>.</strong></td>
</tr>
<tr>
<td>expiration_year</td>
<td>Integer</td>
<td>Card expiration year. <strong>Mandatory if <em>card_type</em> is <em>Explicit</em>.</strong></td>
</tr>
<tr>
<td>security_code</td>
<td>String</td>
<td>Card security code. <strong>Mandatory if <em>card_type</em> is <em>Explicit</em>.</strong></td>
</tr>
</tbody></table>
<h3 id='senderdetails'>SenderDetails:</h3>
<blockquote>
<p>SenderDetails example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"holder"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"surname"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"phone_number"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ssn"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"address"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="s2">"billing_address"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="s2">"sender_bank_details"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="s2">"recipient_bank_details"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="p">},</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Node</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>holder</td>
<td>String</td>
<td>Holder name and surname.</td>
</tr>
<tr>
<td>id</td>
<td>String</td>
<td>Transaction&#39;s sender id.</td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td>Sender name.</td>
</tr>
<tr>
<td>surname</td>
<td>String</td>
<td>Sender surname.</td>
</tr>
<tr>
<td>email</td>
<td>String</td>
<td>Sender email.</td>
</tr>
<tr>
<td>phone_number</td>
<td>String</td>
<td>Sender phone number.</td>
</tr>
<tr>
<td>ssn</td>
<td>String</td>
<td>Social Security Number.</td>
</tr>
<tr>
<td>address</td>
<td><a href ="#address"><i>Address</i></a></td>
<td>Sender address.</td>
</tr>
<tr>
<td>billing_address</td>
<td><a href ="#address"><i>Address</i></a></td>
<td>Billing address.</td>
</tr>
<tr>
<td>sender_bank_details</td>
<td><a href ="#bankdetails"><i>BankDetails</i></a></td>
<td>BankDetails Sender bank details.</td>
</tr>
<tr>
<td>recipient_bank_details</td>
<td><a href ="#bankdetails"><i>BankDetails</i></a></td>
<td>Recipent bank details.</td>
</tr>
</tbody></table>
<h3 id='address'>Address:</h3>
<blockquote>
<p>Address example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"country_code"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"city"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"address_line1"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"address_line2"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"zip_code"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Node</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>country_code</td>
<td>String</td>
<td>Country code in ISO3 (ISO 4217) format.</td>
</tr>
<tr>
<td>city</td>
<td>String</td>
<td>City name.</td>
</tr>
<tr>
<td>address_line1</td>
<td>String</td>
<td>Address line 1 (main).</td>
</tr>
<tr>
<td>address_line2</td>
<td>String</td>
<td>Address line 2 (additional information).</td>
</tr>
<tr>
<td>zip_code</td>
<td>String</td>
<td>Adress zip code.</td>
</tr>
</tbody></table>
<h3 id='bankdetails'>BankDetails:</h3>
<blockquote>
<p>BankDetails example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"bic"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"holder"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"bank_account"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="s2">"bank_name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"country_code"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"iban"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Node</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>bic</td>
<td>String</td>
<td>BIC.</td>
</tr>
<tr>
<td>holder</td>
<td>String</td>
<td>Bank holder.</td>
</tr>
<tr>
<td>bank_account</td>
<td><a href ="#bankaccount"><i>BankAccount</i></a></td>
<td>Bank account data.</td>
</tr>
<tr>
<td>bank_name</td>
<td>String</td>
<td>Bank name.</td>
</tr>
<tr>
<td>country_code</td>
<td>String</td>
<td>Bank country code in ISO3 (ISO 4217) format.</td>
</tr>
<tr>
<td>iban</td>
<td>String</td>
<td>IBAN.</td>
</tr>
</tbody></table>
<h3 id='bankaccount'>BankAccount:</h3>
<blockquote>
<p>BankAccount example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"number"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"security_code"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Node</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>number</td>
<td>String</td>
<td>Bank account&#39;s numbers.</td>
</tr>
<tr>
<td>security_code</td>
<td>String</td>
<td>Bank account security code.</td>
</tr>
</tbody></table>
<h3 id='fraudprocessrq'>FraudProcessRQ</h3>
<blockquote>
<p>FraudProcessRQ</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"rules_module"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="s2">"default_result"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"device_fingerprint"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ip_address"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"session_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"custom_data"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"my_config_key_1"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"my_value1"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Node</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>rules_module</td>
<td>Array[<a href ="#skeeperrule"><i>SkeeperRule</i></a>]</td>
<td>Array of Fraud rules to be applied (if no rules specified, it will be used the configured ones on the *SWAPPT FDS *website.</td>
</tr>
<tr>
<td>default_result</td>
<td>String</td>
<td>The result that must be returned if no rule is triggered (mandatory if rules provided on the request). Values can be <code>Undefined</code>, <code>Accept</code>, <code>Reject</code> or <code>AcceptWithSecurePayment</code>.</td>
</tr>
<tr>
<td>device_fingerprint</td>
<td>String</td>
<td>Customer’s device ID.</td>
</tr>
<tr>
<td>ip_address</td>
<td>String</td>
<td>Customer’s IP Address.</td>
</tr>
<tr>
<td>session_id</td>
<td>String</td>
<td>Customer’s navigation session ID.</td>
</tr>
<tr>
<td>custom_data</td>
<td>Key-Value</td>
<td>Additional data that Fraud should know. It is a Key-Value field, where Keys are <em>SWAPPT FDS</em>’s tool names and values are the configurations for that tools:</td>
</tr>
</tbody></table>

<p>* <em>Protect</em>: Key-Value containing the Custom Fields of the transaction, where Key is the Custom Field name, and Value it’s value (Custom Fields must be previously configured con <em>SWAPPT Protect</em>’s website, more info Here).
    * <em>V5</em>: Comming soon
    * <em>Sift_science</em>: Comming soon</p>
<h3 id='skeeperrule'>SkeeperRule:</h3>
<blockquote>
<p>SkeeperRule Example: </p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"modules"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> 
      </span><span class="s2">"module_key"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"global_decision"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"priority"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Node</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>modules</td>
<td>Key-Value</td>
<td>The combination of results that the tools should return. Key: String(ToolCode) Value: <a href ="#module"><i>Module</i></a></td>
</tr>
<tr>
<td>global_decision</td>
<td>String</td>
<td>The result that <em>FDS</em> must return if this rule triggers.</td>
</tr>
<tr>
<td>priority</td>
<td>Integer</td>
<td>The priority of this rule (the more greater value the more priority)</td>
</tr>
</tbody></table>
<h3 id='module'>Module:</h3>
<blockquote>
<p>Module Example: </p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"module_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"decision_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"min_scoring"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"max_scoring"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Node</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>module_type</td>
<td>String(ModuleType)</td>
<td>Tells if the rule is based in a decision or in a score.</td>
</tr>
<tr>
<td>decision_type</td>
<td>String(ModuleDecision)</td>
<td>The tool&#39;s resulting decision.</td>
</tr>
<tr>
<td>min_scoring</td>
<td>Integer</td>
<td>Lower score value range.</td>
</tr>
<tr>
<td>max_scoring</td>
<td>Integer</td>
<td>Higher score value range.</td>
</tr>
</tbody></table>
<h3 id='paymentprocessrq'>PaymentProcessRQ:</h3>
<blockquote>
<p>PaymentProcessRQ Example: </p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">                             
  </span><span class="s2">"reference_token"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"payment_details"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">,</span><span class="w">
  </span><span class="s2">"callback_url_fail"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"callback_url_success"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"client_config"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"my_config_key_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my_value1"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"source"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="p">},</span><span class="w">    
  </span><span class="s2">"merchant_reference"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">  
  </span><span class="s2">"payment_method"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">  
  </span><span class="s2">"gateway_code"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">  
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Node</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>reference_token</td>
<td>String</td>
<td><em>AvailablePaymentMethods</em> response token.</td>
</tr>
<tr>
<td>payment_details</td>
<td><a href ="#paymentdetails"><i>PaymentDetails</i></a></td>
<td>Information about the payment.</td>
</tr>
<tr>
<td>callback_url_fail</td>
<td>String</td>
<td>Url to return after a failed gateway process.</td>
</tr>
<tr>
<td>callback_url_success</td>
<td>String</td>
<td>Url to return after a success gateway process.</td>
</tr>
<tr>
<td>client_config</td>
<td>String</td>
<td>Dynamic configuration data.</td>
</tr>
<tr>
<td>source</td>
<td><a href ="#source"><i>Source</i></a></td>
<td>Transaction&#39;s agency origin.</td>
</tr>
<tr>
<td>merchant_reference</td>
<td>String</td>
<td>Merchant&#39;s transaction reference.</td>
</tr>
<tr>
<td>payment_method</td>
<td>String(PaymentMethodType)</td>
<td>Payment method.</td>
</tr>
<tr>
<td>gateway_code</td>
<td>String</td>
<td>Gateway identifier code.</td>
</tr>
</tbody></table>
<h3 id='paymentdetails'>PaymentDetails:</h3>
<blockquote>
<p>PaymentDetails Example: </p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">                             
  </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"reasons"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="s2">"payment_items_details"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="s2">"booking_reference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"num_installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"agency_code_partner"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"language_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Node</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>amount</td>
<td>Integer</td>
<td>Payment amount.</td>
</tr>
<tr>
<td>currency</td>
<td>String</td>
<td>Payment amount currency.</td>
</tr>
<tr>
<td>reasons</td>
<td>Array[<a href ="#reason"><i>Reason</i></a>]</td>
<td>Payment breakdown in reasons format (mandatory).</td>
</tr>
<tr>
<td>payment_items_details</td>
<td><a href ="#paymentitemdetails"><i>PaymentItemDetails</i></a></td>
<td>Payment breakdown in items (mandatory).</td>
</tr>
<tr>
<td>booking_reference</td>
<td>String</td>
<td>Merchant locator reference.</td>
</tr>
<tr>
<td>num_installments</td>
<td>String</td>
<td>Number of installments.</td>
</tr>
<tr>
<td>agency_code_partner</td>
<td>String</td>
<td>Partner agency code.</td>
</tr>
<tr>
<td>language_code</td>
<td>String</td>
<td>Language code.</td>
</tr>
</tbody></table>
<h3 id='reason'>Reason:</h3>
<blockquote>
<p>Reason Example: </p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">                             
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Node</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Integer</td>
<td>Reason id</td>
</tr>
<tr>
<td>content</td>
<td>String</td>
<td>Reason explanation.</td>
</tr>
</tbody></table>
<h3 id='paymentitemdetail'>PaymentItemDetail:</h3>
<blockquote>
<p>PaymentItemDetail Example: </p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"date_start"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-08T10:50"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"date_finish"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-08T10:50"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"image_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Node</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td>Item name.</td>
</tr>
<tr>
<td>description</td>
<td>String</td>
<td>Item description.</td>
</tr>
<tr>
<td>date_start</td>
<td>String</td>
<td>Item&#39;s start date.</td>
</tr>
<tr>
<td>date_finish</td>
<td>String</td>
<td>Item&#39;s finish date.</td>
</tr>
<tr>
<td>quantity</td>
<td>String</td>
<td>Item quantity.</td>
</tr>
<tr>
<td>currency</td>
<td>String</td>
<td>Amount currency.</td>
</tr>
<tr>
<td>amount</td>
<td>String</td>
<td>Amount cquantity.</td>
</tr>
<tr>
<td>image_url</td>
<td>String</td>
<td>Item image url.</td>
</tr>
<tr>
<td>provider</td>
<td>String</td>
<td>Item&#39;s provider.</td>
</tr>
</tbody></table>
<h3 id='source'>Source:</h3>
<blockquote>
<p>Source Example: </p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">                             
  </span><span class="s2">"country_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"agency_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Node</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>country_code</td>
<td>String</td>
<td>Country code in ISO 3 (ISO 4217) format.</td>
</tr>
<tr>
<td>agency_code</td>
<td>String</td>
<td>Agency code.</td>
</tr>
</tbody></table>
<h3 id='processrs'>ProcessRS</h3>
<blockquote>
<p>ProcessRS example:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"fraud_response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">...</span><span class="w">  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"payment_response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">...</span><span class="p">},</span><span class="w">
  </span><span class="s2">"card_data_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Node</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>fraud_response</td>
<td><a href ="#fraudprocessrs"><i>FraudProcessRS</i></a></td>
<td>FDS result information.</td>
</tr>
<tr>
<td>payment_response</td>
<td><a href ="#paymentprocessrs"><i>PaymentProcessRS</i></a></td>
<td>Switcher response.</td>
</tr>
<tr>
<td>card_data_token</td>
<td>String</td>
<td>Card token (for future uses).</td>
</tr>
<tr>
<td>status</td>
<td>String(EndTransactionType)</td>
<td>Response status.</td>
</tr>
</tbody></table>
<h3 id='fraudprocessrs'>FraudProcessRS</h3>
<blockquote>
<p>FraudProcessRS Example: </p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">                             
  </span><span class="s2">"result"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Accept"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Node</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>result</td>
<td>String(GlobalDecision)</td>
<td>FDS&#39;s final result.</td>
</tr>
</tbody></table>
<h3 id='paymentprocessrs'>PaymentProcessRS</h3>
<blockquote>
<p>PaymentProcessRS Example: </p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"transaction"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="p">},</span><span class="w">
  </span><span class="s2">"redirect"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Node</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>transaction</td>
<td><a href ="#paymenttransaction"><i>PaymentTransaction</i></a></td>
<td>Information about the transaction done.</td>
</tr>
<tr>
<td>redirect</td>
<td><a href ="#redirect"><i>Redirect</i></a></td>
<td>Redirect information.</td>
</tr>
</tbody></table>
<h3 id='paymenttransaction'>PaymentTransaction</h3>
<blockquote>
<p>PaymentTransaction Example: </p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Expirable"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"expiration_datetime"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-07T13:36:10.057Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"transaction_datetime"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-07T13:36:10.057Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"currency_amount"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="p">},</span><span class="w">
  </span><span class="s2">"status"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status_description"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"pending_reason"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"PendingCredit"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"payment_method"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Mastercard"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Node</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>String</td>
<td>Transaction id.</td>
</tr>
<tr>
<td>type</td>
<td>String(TransactionType)</td>
<td>Transaction type (Final/Expirable).</td>
</tr>
<tr>
<td>expiration_datetime</td>
<td>String</td>
<td>Transaction&#39;s expiration date.</td>
</tr>
<tr>
<td>transaction_datetime</td>
<td>String</td>
<td>When the transaction was done.</td>
</tr>
<tr>
<td>currency_amount</td>
<td><a href ="#currencyamount"><i>CurrencyAmount</i></a></td>
<td>Transaction&#39;s amount.</td>
</tr>
<tr>
<td>status</td>
<td>String(TransactionStatus)</td>
<td>Transaction&#39;s status.</td>
</tr>
<tr>
<td>status_description</td>
<td>String</td>
<td>More info about the transaction&#39;s status.</td>
</tr>
<tr>
<td>pending_reason</td>
<td>String(PendingReason)</td>
<td>Why the transaction is pending.</td>
</tr>
<tr>
<td>payment_method</td>
<td>String(PaymentMethodType)</td>
<td>Transaction&#39;s payment method.</td>
</tr>
</tbody></table>
<h3 id='redirect'>Redirect</h3>
<blockquote>
<p>Redirect Example: </p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"protocol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"form_input"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Node</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>method</td>
<td>String</td>
<td>Http method.</td>
</tr>
<tr>
<td>protocol</td>
<td>String</td>
<td>Network protocol.</td>
</tr>
<tr>
<td>form_inputs</td>
<td><a href ="#forminput"><i>FormInput</i></a></td>
<td>Inputs to add to the redirect call.</td>
</tr>
</tbody></table>
<h3 id='forminput'>FormInput</h3>
<blockquote>
<p>FormInput Example: </p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Node</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>key</td>
<td>String</td>
<td>Input key.</td>
</tr>
<tr>
<td>value</td>
<td>String</td>
<td>Input Value.</td>
</tr>
</tbody></table>
<h2 id='payment-details'>Payment Details</h2><h3 id='paymentdetailsrq'>PaymentDetailsRQ</h3>
<blockquote>
<p>PaymentDetailsRQ</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"search_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByTransaction"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"transaction_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"transaction_start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-10T07:49:05.089Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"transaction_end_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-10T07:49:05.089Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"session_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"source"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="p">},</span><span class="w">
  </span><span class="s2">"merchant_reference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"gateway_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Node</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>search_type</td>
<td>String</td>
<td>Indicates the type of search that wants to be done.</td>
</tr>
<tr>
<td>transaction_id</td>
<td>String</td>
<td>Transaction id (only when &#39;<em>ByTransaction</em>&#39; searches)</td>
</tr>
<tr>
<td>transaction_start_time</td>
<td>String</td>
<td>Search start date (only when &#39;<em>ByDates</em>&#39; searches)</td>
</tr>
<tr>
<td>transaction_end_time</td>
<td>String</td>
<td>Search end date (only when &#39;<em>ByDates</em>&#39; searches)</td>
</tr>
<tr>
<td>session_code</td>
<td>string</td>
<td>Identifies the transactions of the same session.</td>
</tr>
<tr>
<td>source</td>
<td><a href ="#source"><i>Source</i></a></td>
<td>Transaction&#39;s agency origin.</td>
</tr>
<tr>
<td>merchant_reference</td>
<td>string</td>
<td>Merchant&#39;s transaction reference.</td>
</tr>
<tr>
<td>gateway_code</td>
<td>String</td>
<td>Indicates the code of the gateway where the payment details should be consulted.</td>
</tr>
</tbody></table>
<h3 id='paymentdetailsrs'>PaymentDetailsRS</h3>
<blockquote>
<p>PaymentDetailsRS</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="s2">"redirect"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="p">},</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Node</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>transactions</td>
<td>Array[<a href ="#detailstransaction"><i>DetailsTransaction</i></a>]</td>
<td>Details of every transaction involving this payment.</td>
</tr>
<tr>
<td>redirect</td>
<td>String</td>
<td>Redirect information.</td>
</tr>
<tr>
<td>status</td>
<td>String</td>
<td>Response status.</td>
</tr>
</tbody></table>
<h3 id='detailstransaction'>DetailsTransaction</h3>
<blockquote>
<p>DetailsTransaction</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Expirable"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"expiration_datetime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-10T07:49:05.086Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Unknown"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status_description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"currency_amount"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="p">},</span><span class="w">
  </span><span class="s2">"pending_reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Unknown"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"payment_method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"transaction_datetime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-10T07:49:05.086Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"refund_reasons"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="s2">"refunded_currency_amount"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Node</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>String</td>
<td>Transaction id.</td>
</tr>
<tr>
<td>type</td>
<td>String(TransactionType)</td>
<td>Transaction type (Final/Expirable).</td>
</tr>
<tr>
<td>expiration_datetime</td>
<td>String</td>
<td>Transaction&#39;s expiration date.</td>
</tr>
<tr>
<td>transaction_datetime</td>
<td>String</td>
<td>When the transaction was done.</td>
</tr>
<tr>
<td>currency_amount</td>
<td><a href ="#currencyamount"><i>CurrencyAmount</i></a></td>
<td>Transaction&#39;s amount.</td>
</tr>
<tr>
<td>status</td>
<td>String</td>
<td>String(TransactionStatus)</td>
</tr>
<tr>
<td>status_description</td>
<td>String</td>
<td>More info about the transaction&#39;s status.</td>
</tr>
<tr>
<td>pending_reason</td>
<td>String(PendingReason)</td>
<td>Transaction&#39;s reason to be pending.</td>
</tr>
<tr>
<td>payment_method</td>
<td>String(PaymentMethodType)</td>
<td>Transaction&#39;s payment method.</td>
</tr>
<tr>
<td>refund_reasons</td>
<td>Array[ <a href ="#reason"><i>Reason</i></a> Reason]</td>
<td>Refund reasons.</td>
</tr>
<tr>
<td>refunded_currency_amount</td>
<td><a href ="#currencyamount"><i>CurrencyAmount</i></a></td>
<td>If a refund was done, the amount that was refunded.</td>
</tr>
</tbody></table>
<h2 id='refund-payment'>Refund Payment</h2><h3 id='paymentrefundrq'>PaymentRefundRQ</h3>
<blockquote>
<p>PaymentRefundRQ</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"transaction_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"currency_amount"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="p">},</span><span class="w">
  </span><span class="s2">"sender"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="p">},</span><span class="w">
  </span><span class="s2">"reasons"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="s2">"agency_code_partner"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"session_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"source"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="p">},</span><span class="w">
  </span><span class="s2">"merchant_reference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"gateway_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Node</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>transaction_id</td>
<td>String</td>
<td>Transaction id.</td>
</tr>
<tr>
<td>currency_amount</td>
<td><a href ="#currencyamount"><i>CurrencyAmount</i></a></td>
<td>Amount to be refunded.</td>
</tr>
<tr>
<td>sender_details</td>
<td><a href ="#senderdetails"><i>SenderDetails</i></a></td>
<td>Buyer&#39;s information.</td>
</tr>
<tr>
<td>reasons</td>
<td>Array[<a href ="#reason"><i>Reason</i></a>]</td>
<td>The reasons for the refund.</td>
</tr>
<tr>
<td>agency_code_partner</td>
<td>String</td>
<td>Partner agency code.</td>
</tr>
<tr>
<td>session_code</td>
<td>string</td>
<td>Identifies the transactions of the same session.</td>
</tr>
<tr>
<td>source</td>
<td><a href ="#source"><i>Source</i></a></td>
<td>Transaction&#39;s agency origin.</td>
</tr>
<tr>
<td>merchant_reference</td>
<td>string</td>
<td>Merchant&#39;s transaction reference.</td>
</tr>
<tr>
<td>gateway_code</td>
<td>String</td>
<td>Indicates the code of the gateway where the payment details should be consulted.</td>
</tr>
</tbody></table>
<h3 id='paymentrefundrs'>PaymentRefundRS</h3>
<blockquote>
<p>PaymentRefundRS</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="s2">"redirect"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="p">},</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Node</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>transactions</td>
<td>Array[<a href ="#detailstransaction"><i>DetailsTransaction</i></a>]</td>
<td>Information bout the transaction done.</td>
</tr>
<tr>
<td>redirect</td>
<td>String</td>
<td>Redirect information.</td>
</tr>
<tr>
<td>status</td>
<td>String(EndTransactionType)</td>
<td>Response status.</td>
</tr>
</tbody></table>
<h1 id='tokenization'>Tokenization</h1>
<p><em>SWAPPT</em>&#39;s <em>Vault</em> solution core process. As you may know, this process is used to tokenize and retrieve credit cards. </p>
<h2 id='tokenize'>Tokenize</h2>
<p><em>SWAPPT Vault</em>’s tokenization is used to tokenize credit cards. The system will save that information, and will return a unique token. The structure of the body must match the following:</p>
<h3 id='tokenizerq'>TokenizeRQ</h3>
<blockquote>
<p>TokenizeRQ Example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"credit_card"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Node</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>credit_card</td>
<td><a href ="#creditcarddata"><i>CreditCardData</i></a></td>
<td>Credit card raw data.</td>
</tr>
</tbody></table>
<h3 id='creditcarddata'>CreditCardData</h3>
<blockquote>
<p>CreditCardData Example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"expiration_month"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"expiration_year"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"security_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Node</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>number</td>
<td>String</td>
<td>Card number.</td>
</tr>
<tr>
<td>expiration_month</td>
<td>Integer</td>
<td>Card expiration month.</td>
</tr>
<tr>
<td>expiration_year</td>
<td>Integer</td>
<td>Card expiration year.</td>
</tr>
<tr>
<td>security_code</td>
<td>String</td>
<td>Card security code.</td>
</tr>
</tbody></table>
<h3 id='tokenizers'>TokenizeRS</h3>
<blockquote>
<p>TokenizeRS Example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"K7WMBFTB5VAQPJWVHBZLFQWCPAYQAQWWS5U4F4NS6MKN4LWDX74EVRZLUOQS6FQOQKXHIXTY2WXH2==="</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Node</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>token</td>
<td>String</td>
<td>Generated card data token.</td>
</tr>
<tr>
<td>status</td>
<td>String(EndTransactionType)</td>
<td>Response status.</td>
</tr>
</tbody></table>

<p>Where status takes the values <code>Success</code> or <code>Error</code>. If <code>Success</code>, <code>token</code> contains the unique token, if <code>Error</code>, <code>error_details</code> contains information related to the error occurred (see *Appendix *for a deep description). Note that the token returned has 1 unique use. When used, the system will provide a new one (if desired), and will make the used one useless.</p>
<h2 id='retrieve'>Retrieve</h2>
<p>This call will return the information associated to a token. Moreover, if you wish the data to remain saved, you should set the <em>retain</em> field to <code>true</code>.</p>
<h3 id='retriverq'>RetriveRQ</h3>
<blockquote>
<p>RetriveRQ example:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"retain"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Node</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>token</td>
<td>String</td>
<td>Token with the information to retrieve.</td>
</tr>
<tr>
<td>retain</td>
<td>Boolean</td>
<td>True if data must remain saved, False if don&#39;t (Default: False).</td>
</tr>
</tbody></table>
<h3 id='retriverq-2'>RetriveRQ</h3>
<blockquote>
<p>RetrieveRS example:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="p">},</span><span class="w">
  </span><span class="s2">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POYSIGHFLRA7XO64XIFUFUEB3PHCABVZE63ATEWBV6VV6UTL6EJU34I2KOP4N4CB6QM2FJODUK4A4==="</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Node</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>data</td>
<td>String</td>
<td>Token with the information to retrieve.</td>
</tr>
<tr>
<td>token</td>
<td>String</td>
<td>Generated card data token. This field will only be returned if the field <i>retain</i> was sent, and its value was true. Other input will cause the data to be invalidated after returning it.</td>
</tr>
<tr>
<td>status</td>
<td>String</td>
<td>Response status.</td>
</tr>
</tbody></table>
<h1 id='appendix'>Appendix</h1><h2 id='additional-data-types'>Additional data types</h2>
<p>In this section you can find an extended explanation of the different enumerated types that the API has.</p>
<h3 id='paymentmethodtype'>PaymentMethodType</h3>
<table><thead>
<tr>
<th>Values</th>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Visa</td>
<td>Hiper</td>
<td>Discover</td>
<td>Paysafecard</td>
</tr>
<tr>
<td>Mastercard</td>
<td>Sofort</td>
<td>Trustly</td>
<td>Offline_transference</td>
</tr>
<tr>
<td>American_express</td>
<td>Paga_mas_tarde</td>
<td>Instant_credit</td>
<td>Cetelem</td>
</tr>
<tr>
<td>JCB</td>
<td>Klarna</td>
<td>Paypal</td>
<td>Masterpass</td>
</tr>
<tr>
<td>Union_pay</td>
<td>Safety_pay</td>
<td>IUPay</td>
<td>Multibanco</td>
</tr>
<tr>
<td>Diners_club</td>
<td>Braspag</td>
<td>Limonetik</td>
<td>Cash</td>
</tr>
</tbody></table>
<h3 id='endtransactiontype'>EndTransactionType</h3>
<table><thead>
<tr>
<th>Value</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Success</td>
<td>The request was processed sucessfully.</td>
</tr>
<tr>
<td>Error</td>
<td>There was an error during the process.</td>
</tr>
</tbody></table>
<h3 id='cardinfotype'>CardInfoType</h3>
<table><thead>
<tr>
<th>Value</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Explicit</td>
<td>Card info comes raw.</td>
</tr>
<tr>
<td>Encrypted</td>
<td>Card info comes encrypted.</td>
</tr>
<tr>
<td>Tokenized</td>
<td>Card info comes tokenized.</td>
</tr>
</tbody></table>
<h3 id='toolcode'>ToolCode</h3>
<table><thead>
<tr>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Protect</td>
</tr>
<tr>
<td>V5</td>
</tr>
<tr>
<td>SiftScience</td>
</tr>
</tbody></table>
<h3 id='moduletype'>ModuleType</h3>
<table><thead>
<tr>
<th>Value</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ByDecision</td>
<td>Indicates that rule should be based on Decision.</td>
</tr>
<tr>
<td>ByScore</td>
<td>Indicates that rule should be based on Score.</td>
</tr>
</tbody></table>
<h3 id='moduledecision'>ModuleDecision</h3>
<table><thead>
<tr>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Accept</td>
</tr>
<tr>
<td>Review</td>
</tr>
<tr>
<td>Reject</td>
</tr>
<tr>
<td>NotConclusive</td>
</tr>
</tbody></table>
<h3 id='globaldecision'>GlobalDecision</h3>
<table><thead>
<tr>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Accept</td>
</tr>
<tr>
<td>Reject</td>
</tr>
<tr>
<td>AcceptWithSecurePayment</td>
</tr>
</tbody></table>
<h3 id='transactiontype'>TransactionType</h3>
<table><thead>
<tr>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Final</td>
</tr>
<tr>
<td>Expirable</td>
</tr>
</tbody></table>
<h3 id='transactionstatus'>TransactionStatus</h3>
<table><thead>
<tr>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Success</td>
</tr>
<tr>
<td>Cancel</td>
</tr>
<tr>
<td>Pending</td>
</tr>
<tr>
<td>Received</td>
</tr>
<tr>
<td>Refunded</td>
</tr>
</tbody></table>
<h3 id='pendingreason'>PendingReason</h3>
<table><thead>
<tr>
<th>Value</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>PendingCredit</td>
<td>Pending of getting credit.</td>
</tr>
<tr>
<td>PendingCapture</td>
<td>Payment is pending of being captured.</td>
</tr>
<tr>
<td>PendingVerification</td>
<td>Payment is pending of being verificated for the gateway.</td>
</tr>
</tbody></table>
<h3 id='searchtype'>SearchType</h3>
<table><thead>
<tr>
<th>Value</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ByTransaction</td>
<td>Search must be done by transaction_id (<em>transaction_id</em> node MUST be specified).</td>
</tr>
<tr>
<td>ByDates</td>
<td>Search must be done by date ranges (<em>transaction_start_time</em> and <em>transaction_end_time</em> nodes MUST be specified).</td>
</tr>
</tbody></table>
<h2 id='errordetails'>ErrorDetails</h2>
<blockquote>
<p>Error example:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"error_details"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"error_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Fraud"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"error_messages"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"404"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Missing field"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ip_address"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Error"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Node</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>error_type</td>
<td>String(SolutionCode)</td>
<td>Determines the <em>SWAPPT</em> Solution where the error was caused (<em>&#39;FDS</em>, <em>&#39;Switcher&#39;</em>, <em>&#39;Vault&#39;</em>), or <em>&#39;Technical&#39;</em> in case of internal error.</td>
</tr>
<tr>
<td>error_messages</td>
<td>Array[GlobalError]</td>
<td>List of error descriptions.</td>
</tr>
</tbody></table>

<p><em>GlobalError</em> contains a deeper description of the error, and follows a simple structure:</p>

<table><thead>
<tr>
<th>Node</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>The error code (detailed on <a href ="#errors">error codes section</a>).</td>
</tr>
<tr>
<td>description</td>
<td>Provides a textual description of the error cause.</td>
</tr>
<tr>
<td>field</td>
<td>Contains the field that is related to the error (for example in <em>400</em>’s errors).</td>
</tr>
<tr>
<td>process_moment</td>
<td>Says when the error was produced (<em>BeforeCallProvider</em>, <em>WhileCallingProvider</em>, <em>AfterCallProvider</em>), which will help us to detect the error and will tell you if the provider call was done.</td>
</tr>
</tbody></table>
<h1 id='errors'>Errors</h1>
<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request -- YRequest does not match the specification.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized -- Your API key is wrong.</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden -- User is not authorized.</td>
</tr>
<tr>
<td>404</td>
<td>Not Found -- The resource could not be found.</td>
</tr>
<tr>
<td>408</td>
<td>RequestTimeout -- Timeout (tipically on provider’s side).</td>
</tr>
<tr>
<td>409</td>
<td>Conflict -- Conflict with the configuration (e.g. FDS returns SecurePayment and referencing a non secure gateway).</td>
</tr>
<tr>
<td>410</td>
<td>Gone -- The resource has been removed from our servers.</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error -- We had a problem with our server. Try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="curl">curl</a>
                <a href="#" data-language-name="csharp">csharp</a>
                <a href="#" data-language-name="go">go</a>
          </div>
      </div>
    </div>
  </body>
</html>
